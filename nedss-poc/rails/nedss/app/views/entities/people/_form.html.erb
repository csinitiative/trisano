<fieldset>
<legend>Person Information</legend>  
<%= f.hidden_field(:entity_type) %>
<% f.fields_for(:person, @entity.person, :builder => ExtendedFormBuilder) do |p| %>
<table cellpadding="2">
  <tr>
    <td><%= p.label(:last_name) %></td>
    <td><%= p.text_field(:last_name, :size => 25) %></td>
    <td><%= p.label(:first_name) %></td>
    <td><%= p.text_field(:first_name, :size => 25) %></td>
    <td><%= p.label(:middle_name) %></td>
    <td><%= p.text_field(:middle_name, :size => 25) %></td>
  </tr>
  <tr>
    <td><%= p.label(:birth_date) %></td>
    <td><%= p.calendar_date_select(:birth_date, :year_range => 100.years.ago..0.years.from_now) %></td>
    <td><%= p.label(:date_of_death) %></td>
    <td><%= p.calendar_date_select(:date_of_death, :year_range => 100.years.ago..0.years.from_now) %></td>
  </tr>
  <tr>
    <td><%= p.label(:birth_gender) %></td>
    <td><%= p.dropdown_code_field(:birth_gender_id, 'gender', {:include_blank => true}) %></td>
    <td><%= p.label(:current_gender) %></td>
    <td><%= p.dropdown_code_field(:current_gender_id, 'gender', {:include_blank => true}) %></td>
  </tr>
  <tr>
    <td><%= p.label(:ethnicity) %></td>
    <td><%= p.dropdown_code_field(:ethnicity_id, 'ethnicity', {:include_blank => true}) %></td>
    <td><%= p.label(:primary_language) %></td>
    <td><%= p.dropdown_code_field(:primary_language_id, 'language', {:include_blank => true}) %></td>
  </tr>
<% end %>
  <tr>
    <td><%= f.label(:race) %></td>
    <td><%= f.multi_select_code_field(:race_ids, 'race', {}, {}) %></td>
  </tr>
</table>
</fieldset>
