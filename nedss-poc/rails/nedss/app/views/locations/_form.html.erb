<fieldset>
  <legend>Address Information
    <span id='address_info_hide' onClick="Element.hide('address_info_form'); Element.hide('address_info_hide'); Element.show('address_info_show'); return false;">[Hide]</span>
    <span id='address_info_show' onClick="Element.show('address_info_form'); Element.hide('address_info_show'); Element.show('address_info_hide'); return false;" style="display: none;">[Show]</span>
  </legend>  
  <% f.fields_for(:entities_location, location_data.entities_location, :builder => ExtendedFormBuilder) do |el| %>
  <%= el.hidden_field(:entity_id) %>
  <div id='address_info_form'>
  <table cellpadding="2">
    <tr>
      <td>
          <%= el.label(:entity_location_type_id, "Location type") %>
          <%= el.dropdown_code_field(:entity_location_type_id, 'location', {}) %>
      </td>
      <td>
        <%= el.label(:primary_yn_id, "Primary location") %>
        <%= el.dropdown_code_field(:primary_yn_id, 'yesno', {}) %>
      </td>
    </tr>
  </table>

  <p/>

  <table cellpadding="2">
    <% f.fields_for(:address, location_data.address, :builder => ExtendedFormBuilder) do |a| %>
      <tr>
        <td><%= a.label(:street_number) %></td>
        <td><%= a.text_field(:street_number, :size => 10) %></td>
        <td><%= a.label(:street_name) %></td>
        <td><%= a.text_field(:street_name, :size => 50) %></td>
        <td><%= a.label(:unit_number) %></td>
        <td><%= a.text_field(:unit_number, :size => 10) %></td>
      </tr>
      <tr>
        <td><%= a.label(:city) %></td>
        <td><%= a.text_field(:city, :size => 30) %></td>
        <td><%= a.label(:state) %></td>
        <td><%= a.dropdown_code_field(:state_id, 'state', {:include_blank => true}) %></td>
        <td><%= a.label(:postal_code) %></td>
        <td><%= a.text_field(:postal_code, :size => 7) %></td>
      </tr>
      <tr>
        <td><%= a.label(:county) %></td>
        <td><%= a.dropdown_code_field(:county_id, 'county', {:include_blank => true}) %></td>
      </tr>
    <% end %>
    <% f.fields_for(:telephone, location_data.telephone, :builder => ExtendedFormBuilder) do |t| %>
    <td><%= t.label(:area_code) %>
      <%= t.text_field(:area_code, :size => 3) %></td>
    <td><%= t.label(:phone_number) %>
      <%= t.text_field(:phone_number, :size => 8) %>9999999 or 999-9999</td>
    <td><%= t.label(:extension) %>
    <%= t.text_field(:extension, :size => 6) %></td>
  <% end %>
  </table>
<% end %>
</div>
</fieldset>
