Story: CMR search user acceptance tests

  As an investigator
  I want to search for CMRs
  So I can know if they are already in the system

  Scenario: Search for known CMRs by disease
    
    Given I am logged in as an investigator
    And a CMR is created in Davis County Health Department for a male named Karl Marks of Beaver county born 01/01/1970 and infected with Tetanus

    When I search for CMRs for people named Karl Marks infected with Tetanus
    Then the results should contain a record number, a link to Karl Marks, his age and the birth date 01/01/1970, gender male, county Beaver, disease tetanus, jurisdiction Davis County Health Department, and today's date

  Scenario: Search for known CMRs with starts-with search

    Given I am logged in as an investigator
    And a CMR is created in Davis County Health Department for a male named Karl Marks of Beaver county born 01/01/1970 and infected with Tetanus

    When I search for CMRs where first name starts with K and last name starts with M
    Then I should see at least one result with the person Karl Marks

    When I search for CMRs where first name starts with K
    Then I should see at least one result with the person Karl Marks

    When I search for CMRs where last name starts with M
    Then I should see at least one result with the person Karl Marks

    When I search for CMRs with a full text name of Karl Marks and a last name starting with Xyz
    Then the full text search should be ignored and no results should display
