<!--
Copyright (C) 2007, 2008, The Collaborative Software Foundation

This file is part of TriSano.

TriSano is free software: you can redistribute it and/or modify it under the 
terms of the GNU Affero General Public License as published by the 
Free Software Foundation, either version 3 of the License, or 
(at your option) any later version.

TriSano is distributed in the hope that it will be useful, but 
WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or 
FITNESS FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License 
for more details.

You should have received a copy of the GNU Affero General Public License along 
with TriSano. If not, see http://www.gnu.org/licenses/agpl-3.0.txt.
-->

<h1>Editing locations</h1>

<%= error_messages_for :object => [@location, @location.entities_location] %>
<%= error_messages_for :object => [@location.telephone] unless @location.telephone.nil? %>
<%= error_messages_for :object => [@location.address] unless @location.address.nil? %>

<%= render :partial => "#{@type}_header"%>

<% form_for(@location,
            :url => entity_location_path(@entity, @location), 
            :html => {:method => :put}, 
            :builder => ExtendedFormBuilder) do |f| %>
  <p>
    <%= render :partial => 'form', :locals => { :f => f, :location_data => @location } %>
    <%= f.submit "Update" %>
  </p>
<% end %>

<%= link_to 'Back', entity_path(@entity) %>
