-# Copyright (C) 2007, 2008, 2009 The Collaborative Software Foundation
-#
-# This file is part of TriSano.
-#
-# TriSano is free software: you can redistribute it and/or modify it under the terms of the
-# GNU Affero General Public License as published by the Free Software Foundation, either 
-# version 3 of the License, or (at your option) any later version.
-#
-# TriSano is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; 
-# without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  
-# See the GNU Affero General Public License for more details.
-# 
-# You should have received a copy of the GNU Affero General Public License along with TriSano. 
-# If not, see http://www.gnu.org/licenses/agpl-3.0.txt.

.vert-break
  - form_for common_test_type do |f|

    %table.list
      %tr
        %th.forminformation
          Edit Common Test Type

      %tr
        %td
          = f.error_messages
          %span.vert
            = f.label      :common_name
            = f.text_field :common_name

    - unless common_test_type.new_record?
      %table.list
        %tr
          %th.forminformation
            Associated LOINC Codes

        %tr
          %td
            -common_test_type.loinc_codes.each do |loinc_code|
              %span.vert-break
                &="#{loinc_code.loinc_code}  #{loinc_code.test_name}"
            = link_to 'Add LOINC codes', add_loincs_common_test_type_path(common_test_type)

    %span.vert
      = create_or_update_button common_test_type
